@inject IDialogService _dialogService
@using karma.Components.Dialogs;


<div class="my-navbar">
    <div class="container">
        <a class="logo-desktop" href="#">Cha<span>rie</span></a>
        <a class="logo-mobile" href="#"><img src="/img/favicon.png" alt="Charie logo"></a>

        <img id="mobile-cta" class="mobile-menu" src="img/menu.svg" @onclick="ExpandMenu" alt="Expand navigation menu">

        <nav class="@MenuButtonClass">
            <img id="mobile-exit" class="mobile-exit" src="img/exit.svg" @onclick="CloseMenu" alt="Exit navigation">
            <ul class="primary-nav">
                <li class="current"><a href="#">Home</a></li>
                <li><a href="Announcements">Announcements</a></li>
                <li><a href="Listings">Listings</a></li>
                <li><a href="Charities">Charities</a></li>
            </ul>

            <ul class="secondary-nav">
                <li><a href="/contact">Contact</a></li>
                <li class="login-btn" @onclick="OpenDialog"><a>Login</a></li>
            </ul>
        </nav>
    </div>
</div>

@code
{
    private String MenuButtonClass = "nav-not-pressed"; //Determines <nav> class, to open mobile navbar.

    private void ExpandMenu()
    {
        MenuButtonClass = "nav-pressed"; //Changes <nav> class to expand mobile menu.
    }
    private void CloseMenu()
    {
        MenuButtonClass = "nav-not-pressed"; //Changes <nav> class to close mobile menu.
    }
    private async Task OpenDialog()
    {
        var dialog = _dialogService.Show<DialogLogin>("Login");
        var result = await dialog.Result;

        if (!result.Cancelled)
        {

        }
    }
}